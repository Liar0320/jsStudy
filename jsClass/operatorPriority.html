<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>operatorPriority</title>
</head>
<body>
    <a href="https://segmentfault.com/q/1010000002637728">https://segmentfault.com/q/1010000002637728</a>
    <a href="https://www.cnblogs.com/yy-hh/p/4624792.html">JavaScript中运算符的优先级</a>
    <p>var a = {n:1};  </p>
    <p>var b = a; // 持有a，以回查  </p>
    <p>a.x = a = {n:2}; </p>
    <p>console.log(a.x);// --> undefined</p>
    <p>console.log(b.x);// --> {n:2}</p>
    <hr>
    <p>赋值是从右到左的，但不要被绕晕了， 其实很简单，从运算符优先级来考虑</p>
    <p>a.x = a = {n:2};</p>
    <p>.运算优先于=赋值运算，因此此处赋值可理解为</p>
    <p>声明a对象中的x属性，用于赋值，此时b指向a，同时拥有未赋值的x属性</p>
    <p>对a对象赋值，此时变量名a改变指向到对象{n:2}</p>
    <p>对步骤1中x属性，也即a原指向对象的x属性，也即b指向对象的x属性赋值</p>
    <p> 赋值结果：</p>
    <p>a => {n: 2}</p>
    <p>b => {n: 1, x: {n: 2 } } </p>
    <hr>
    <p> js按照从右往左的顺序计算表达式</p>
    <p>计算完表达式后才进行运算操作</p>
    <p>我们回到a.x = a = {n:2}; 这个赋值语句来看</p>
    <p>1)首先，js引擎计算表达式的值</p>
    <p> 1.1 对a.x 会在a上添加属性，其中为undefined,注意此时b指向的对象和a指向的对象为同一个，都会有一个属性x,a.x的计算结果为一个值为undefined的指针变量,假设为C</p>
    <p>1.2 计算a得到为一个添加了属性x的对象</p>
    <p>2)赋值操作从右往左进行，那么</p>
    <p>2.1 a={n:2}赋值操作后 a指向{n:2}表达式对象的临时变量。赋值操作返回对象为{n:2}</p>
    <p>2.2 接下来执行a.x={n:2}的赋值操作，注意同一个表达式，JS不会计算2遍;</p>
    <p>此时的a.x为1.1计算得到的结果,也即是赋值操作对指针变量C赋值,结果为{n:2}</p>
   
</body>
<script>
    var a = {n:1};  
var b = a; // 持有a，以回查  
a.x = a = {n:2};  
console.log(a.x);// --> undefined  
console.log(b.x);// --> {n:2}
// 赋值是从右到左的，但不要被绕晕了， 其实很简单，从运算符优先级来考虑

// a.x = a = {n:2};
// .运算优先于=赋值运算，因此此处赋值可理解为

// 声明a对象中的x属性，用于赋值，此时b指向a，同时拥有未赋值的x属性
// 对a对象赋值，此时变量名a改变指向到对象{n:2}
// 对步骤1中x属性，也即a原指向对象的x属性，也即b指向对象的x属性赋值
// 赋值结果：

// a => {n: 2}
// b => {n: 1, x: {n: 2 } }  


// js按照从左往右的顺序计算表达式
// 计算完表达式后才进行运算操作
// 我们回到a.x = a = {n:2}; 这个赋值语句来看
// 1)首先，js引擎计算表达式的值
// 1.1 对a.x 会在a上添加属性，其中为undefined,注意此时b指向的对象和a指向的对象为同一个，都会有一个属性x,a.x的计算结果为一个值为undefined的指针变量,假设为C
// 1.2 计算a得到为一个添加了属性x的对象
// 2)赋值操作从左往右进行，那么
// 2.1 a={n:2}赋值操作后 a指向{n:2}表达式对象的临时变量。赋值操作返回对象为{n:2}
// 2.2 接下来执行a.x={n:2}的赋值操作，注意同一个表达式，JS不会计算2遍;
// 此时的a.x为1.1计算得到的结果,也即是赋值操作对指针变量C赋值,结果为{n:2}




// 运算符优先级
// JavaScript中的运算符优先级是一套规则。该规则在计算表达式时控制运算符执行的顺序。具有较高优先级的运算符先于较低优先级的运算符执行。例如，乘法的执行先于加法。

// 下表按从最高到最低的优先级列出JavaScript运算符。具有相同优先级的运算符按从左至右的顺序求值。
// 运算符	描述
// . [] ()	字段访问、数组下标、函数调用以及表达式分组
// ++ -- - ~ ! delete new typeof void	一元运算符、返回数据类型、对象创建、未定义值
// * / %	乘法、除法、取模
// + - +	加法、减法、字符串连接
// << >> >>>	移位
// < <= > >= instanceof	小于、小于等于、大于、大于等于、instanceof
// == != === !==	等于、不等于、严格相等、非严格相等
// &	按位与
// ^	按位异或
// |	按位或
// &&	逻辑与
// ||	逻辑或
// ?:	条件
// = oP=	赋值、运算赋值
// ,	多重求值
</script>
</html>