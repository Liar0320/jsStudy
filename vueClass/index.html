<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="./node_modules/vue/dist/vue.js" type='text/javascript'></script>
    <title>vue</title>
</head>
<body>
    <div id='app'>
            <table  >
                    <thead>
                        <tr >
                            <th>学科</th>
                            <th>分数</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>数学</td>
                            <td><input type="text" v-model.number='math'></td>
                        </tr>
                        <tr>
                            <td>语文</td>
                            <td><input type="text" v-model.number='china'></td>
                        </tr>
                        <tr>
                            <td >英语</td>
                            <td><input type="text" v-model.number='english'></td>
                        </tr>
                        <tr>
                            <td >总分{{sum}}</td>
                            <td>{{sum}}</td>
                            <input type="text" v-model='sum'>
                        </tr>
                        <tr>
                            <td>平均分</td>
                            <td>{{averge}}</td>
                        </tr>
            
                    </tbody>
                </table>
                <ul>
                    <li v-for='item in arr'>{{item}}</li>
                </ul>
                <tool v-model='loginType' v-bind='{"a":1,"b":2,"c":3}' v-on:focus.native="wah">
                    <div  slot='head'>123123达</div>
                   
                    <div slot='content'> <tooltip></tooltip></div>
                    <div slot='foot'>foot</div>
                </tool>
                <div v-if='toggle' key='a'> 区块1<input type="text"></div>
                <div v-if='!toggle' key = 'b'> 区块2<input type="text"></div>
                <label for=""  v-test.a.b.c='2222'> 9999</label>
                <testcomponent  v-test:true.a.b.c='2222'></testcomponent>
                <tooltip></tooltip>
                <div class='a' v-bind:class='{"acitve":true,"b":true}'>v-bind:class='{"acitve",true,"b":false}'</div>
                <label for="">{{8989|count('啊')}}</label>
                question<input type="text" v-model='question'>
                <input type='text' v-on:keyup.alt.67='on_scroll'>keyup.alt.67</input>
                <input type='text' v-on:keyup.67='on_scroll'>keyup.alt.67</input>
                <button @click.ctrl.exact='on_scroll'>@click.ctrl.exact</button>
                <button @click.ctrl='on_scroll'>@click.ctrl</button>
                <button @click.right.prevent='on_scroll'>@click.right</button>
                <template v-if="loginType ">
                    <a href="">12312321</a>
                    <label>Username</label>
                    <input placeholder="Enter your username" >
                  </template>
                  <template v-else>
                    <label>Email</label>
                    <input placeholder="Enter your email address">
                  </template>
                <div   v-on:scroll.passive ="on_scroll" style="height:100px;overflow: auto;">滚动了 ///v-on:scroll.passive
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    滚动结束
                </div>
          
    </div>

</body>
<script type='text/javascript'>
    var methods = {
    data:function(){
            return{
                visibile:false,
            }
        },
        methods:{
            enter:function(){
                console.log(this);
                this.visibile= true;
            },
            leave:function(){
                this.visibile= false;
            },
            calct:function(data){
                console.log(data);
            }
        }
}

    var Event = new Vue();
    Vue.component('tooltip',{
        template:`
        <div>
            <span v-on={mouseenter:enter,mouseleave:leave}>我很帅</span>
            <span @mouseenter='enter' @mouseleave='leave'>我很帅</span>
            <div v-if='visibile'>
                    我很帅我很帅我很帅我很帅我很帅我很帅
            </div>
            <input type='text' v-model='huahua' v-on:change='on_change'/>
        </div>
        `,
        mixins:[methods],
        data:function(){
            return{
                visibile:true,
                huahua:'',
            }
        },
        methods:{
          
            on_change:function(){
                var me = this;
                Event.$emit('huahua-said-something',me.huahua)
            }
        }
    })

    Vue.component('tool',{
        inheritAttrs:false,
        props:['value','a','b','c'],
        // props:{
        //     'value':{},
        //     'a':{
        //         type:Number,
        //     },
        //     'b':{
        //         required:true,
        //     },
        //     'c':{
        //         validator:function(data){
        //             return [320,618,415].indexOf(data) > -1;
        //         }
        //     }
        //     },
        template:`
        <div>
            <label>prop:v-bind = obj ,{{a}},{{b}},{{c}}</label>
            <input type="text"  v-bind='$attrs' v-model='pop' v-on="inputListeners" @focus='calct'>
            <input type='text' v-bind:value='value' v-on:input='$emit("input",$event.target.value)'>
            <button v-on={mouseenter:enter,mouseleave:leave}>萨达</button>
            <button @mouseenter='enter' @mouseleave='leave'>萨达</button>
            <div v-if='visibile'>
                    <slot name='head'></slot>
                    <hr>
                    <slot name = 'content'></slot>
                    <hr>
                    <slot name = 'foot'></slot>
            </div>
            <label>{{huahua_siad}}</label>
        </div>
        `,
        mixins:[methods],
        data:function(){
            return{
                huahua_siad:'huahua',
                pop:'adsa',
            }
        },
        computed:{
            inputListeners:function(){
                var vm = this;
                return Object.assign({},
                    {},
                    {
                        focus:function(evnet){
                            console.log(this);
                            vm.$emit('focus',event.target.value)
                        }
                    }
                )
            }
        },
        mounted:function(){
            var me = this;
            Event.$on('huahua-said-something',function(data){
                me.huahua_siad = data;
            })
        }
    })

    Vue.directive('test',function(el,binding){
        console.log(el,binding);
        console.log(el,binding.value);
    })
    
    Vue.component('testcomponent',{
        template:`
            <div>
                <label >as撒打算</label>
            </div>
        `
    })
    Vue.filter('count',function(val,value){
        
        console.log(val,value);
        return val +  value;
    })
    var  app = new Vue({
        el:'#app',
        data:{
            math:90,
            china:60,
            english:70,
            arr:['我','很','帅'],
            question:'',
            toggle:true,
            loginType:false
        },
        watch:{
            question:function(newValue,oldValue){
                console.log(newValue,oldValue);
            }
        },
        computed:{
            sum:{
                get:function(){
                    return this.math+this.china+this.english
                },
                set:function(val){
                    console.log(this);
                    this.math = Math.round(val/3);
                    this.china = Math.round(val/3);
                    this.english = Math.round(val/3);
                }
            },
            averge:function(){
                return Math.round(this.sum/3)
            }
        },
        methods:{
            on_scroll:function(e,a){
                console.log(e,a);
            },
            wah:function(e,a){
                console.log(e,a);
            }
        }
    })

    console.log(app,app.$el,app.$data);

</script>
</html>